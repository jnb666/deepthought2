{{ define "grid" -}}
<!DOCTYPE html>
<html lang="en">
{{ template "header" . -}}
<body>
<div class="pure-g">
  <div class="pure-u-1">
    <div class="l-box">
      <table class="h-center">
      {{ $p := . -}}
      {{ range $row := $p.Rows -}}
        <tr>
        {{ range $col := $p.Cols -}}
          {{ $i := $p.Index $row $col -}}
          <td>
            {{ if $i -}}
              {{ $l := $p.Label $i -}}
              <div class="{{$l.Class}}">
                {{ if $p.Distort -}}
                  <img src="/img/{{$p.Dset}}/{{$i}}?d={{$p.Distort}}" width="{{$p.Width}}" height="{{$p.Height}}" alt="{{$l.Desc}}" title="{{$l.Desc}}">
                {{ else -}}
                  <img src="/img/{{$p.Dset}}/{{$i}}" width="{{$p.Width}}" height="{{$p.Height}}" alt="{{$l.Desc}}" title="{{$l.Desc}}">
                {{ end -}}
                <span class="image-label">{{$l.Pred}}</span>
              </div>
            {{ end -}}
          </td>
        {{ end -}}
        </tr>
      {{ end -}}
      </table>
      <center><h4>{{.Total}} images &nbsp; [page {{.Page}} of {{.Pages}}]</h4></center>
    </div>
  </div>
</div>
</body>
</html>
{{ end -}}