{{ define "grid" -}}
<!DOCTYPE html>
<html lang="en">
{{ template "header" . -}}
<body>
<div class="pure-g">
  <div class="pure-u-1">
    <div class="l-box">
      <table class="h-center">
      {{ $p := . -}}
      {{ range $row := $p.Rows -}}
        <tr>
        {{ range $col := $p.Cols -}}
          {{ $i := $p.Index $row $col -}}
          <td>
            {{ if $i -}}
            <div class="digit-image">
              {{ if $p.Distort -}}
              <img src="/img/{{$p.Dset}}/{{$i}}?d={{$p.Distort}}" width="{{$p.Width}}" height="{{$p.Height}}" alt="{{$i}}" title="{{$i}}">
              {{ else -}}
              <img src="/img/{{$p.Dset}}/{{$i}}" width="{{$p.Width}}" height="{{$p.Height}}" alt="{{$i}}" title="{{$i}}">
              {{ end -}}
              <span class="digit-label">{{$p.Label $i}}</span>
            </div>
            {{ end -}}
          </td>
        {{ end -}}
        </tr>
      {{ end -}}
      </table>
      <center><h4>{{.Total}} images &nbsp; [page {{.Page}} of {{.Pages}}] &nbsp; {{.Classes}}</h4></center>
    </div>
  </div>
</div>
</body>
</html>
{{ end -}}